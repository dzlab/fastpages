<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Exploring bias in Transformers | notebooks</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Exploring bias in Transformers" />
<meta name="author" content="dzlab" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?" />
<meta property="og:description" content="Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?" />
<link rel="canonical" href="https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html" />
<meta property="og:url" content="https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html" />
<meta property="og:site_name" content="notebooks" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-04T00:00:00-06:00" />
<script type="application/ld+json">
{"datePublished":"2022-02-04T00:00:00-06:00","author":{"@type":"Person","name":"dzlab"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html"},"description":"Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?","@type":"BlogPosting","url":"https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html","headline":"Exploring bias in Transformers","dateModified":"2022-02-04T00:00:00-06:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/notebooks/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://dzlab.github.io/notebooks/feed.xml" title="notebooks" /><!-- the google_analytics_id gets auto inserted from the config file -->
<meta name="google-site-verification" content="ilXYLP9WtWkhHuj_2OxaJFMS2IP4Pdey8JFu_FlAWaQ" />


<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-128961990-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/notebooks/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Exploring bias in Transformers | notebooks</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Exploring bias in Transformers" />
<meta name="author" content="dzlab" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?" />
<meta property="og:description" content="Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?" />
<link rel="canonical" href="https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html" />
<meta property="og:url" content="https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html" />
<meta property="og:site_name" content="notebooks" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-04T00:00:00-06:00" />
<script type="application/ld+json">
{"datePublished":"2022-02-04T00:00:00-06:00","author":{"@type":"Person","name":"dzlab"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html"},"description":"Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?","@type":"BlogPosting","url":"https://dzlab.github.io/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html","headline":"Exploring bias in Transformers","dateModified":"2022-02-04T00:00:00-06:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://dzlab.github.io/notebooks/feed.xml" title="notebooks" /><!-- the google_analytics_id gets auto inserted from the config file -->
<meta name="google-site-verification" content="ilXYLP9WtWkhHuj_2OxaJFMS2IP4Pdey8JFu_FlAWaQ" />


<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-128961990-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/notebooks/">notebooks</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/notebooks/about/">About Me</a><a class="page-link" href="/notebooks/search/">Search</a><a class="page-link" href="/notebooks/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Exploring bias in Transformers</h1><p class="page-description">Transformers models are trained on public corpus that may contain bias, how this bias get propagated to the trained model?</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-02-04T00:00:00-06:00" itemprop="datePublished">
        Feb 4, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">dzlab</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/notebooks/categories/#tensorflow">tensorflow</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#nlp">nlp</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#explainability">explainability</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/dzlab/notebooks/tree/master/_notebooks/2022-02-04-transformers_bias.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/notebooks/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/dzlab/notebooks/master?filepath=_notebooks%2F2022-02-04-transformers_bias.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebooks/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/dzlab/notebooks/blob/master/_notebooks/2022-02-04-transformers_bias.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notebooks/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
</ul><body>
<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-02-04-transformers_bias.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In Recent years, language models are able to achieve remarkable results, from writing stories (e.g. GPT-2 and GPT-3), turn captions into images, or write code.</p>
<p>Some of those models are trained by a masking technique: taking sentences, splitting them into tokens (i.e. words), and then randomly hiding some of those tokens and train the model to predict those hidden tokens. At the core of those models is a Transformer architecture, hence the name of the transfomers library.
Learn more on performing Masked Language Modeling here - <a href="https://huggingface.co/docs/transformers/master/en/task_summary#masked-language-modeling">link</a>.</p>
<p>In this post, we will try BERT one of those language models and see how its prediction for masked words different based on location or gender.
This post is insipired by the followin article - <a href="https://pair.withgoogle.com/explorables/fill-in-the-blank/">What Have Language Models Learned?</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://pixabay.com/get/g105f88fb2e7a133afcb1f985d146f1e7512e2759f8538d92addccab5ab84f311bd93e25a11c6196a9e422f5fc4a6d3dce4114068cfd3e0531d7e4bfca76b8cd3be211539649ead2c735f50e978e9acf7_640.jpg" alt="little transformer"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's install and import dependencies</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%capture</span>
<span class="o">%%</span><span class="n">bash</span>

<span class="n">pip</span> <span class="n">install</span> <span class="n">pyyaml</span><span class="o">==</span><span class="mf">5.4</span><span class="o">.</span><span class="mi">1</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">q</span> <span class="n">transformers</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">TFAutoModelForMaskedLM</span><span class="p">,</span> <span class="n">AutoTokenizer</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.7/dist-packages/distributed/config.py:20: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.
  defaults = yaml.load(f)
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>BERT has lot variation and the transformers library offer easy access many of them, we will use <code>bert-base-uncased</code> but you can find more models here - <a href="https://huggingface.co/models?filter=fill-mask">link</a></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">"bert-base-uncased"</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">TFAutoModelForMaskedLM</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">"bert-base-uncased"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>All model checkpoint layers were used when initializing TFBertForMaskedLM.

All the layers of TFBertForMaskedLM were initialized from the model checkpoint at bert-base-uncased.
If your task is similar to the task the model of the checkpoint was trained on, you can already use TFBertForMaskedLM for predictions without further training.
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's define a helper function, that will tokenize a sentence, encode its tokens with IDs in the model vocabulary, do a forward pass and retrieve the predictions at the index of the mask token. As we need probablities we will pass the predictions through a softmax function and collect the top N tokens.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">top_words</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">return_tensors</span><span class="o">=</span><span class="s2">"tf"</span><span class="p">)</span>
    <span class="n">mask_token_index</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">inputs</span><span class="p">[</span><span class="s2">"input_ids"</span><span class="p">]</span> <span class="o">==</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token_id</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">token_logits</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="n">inputs</span><span class="p">)</span><span class="o">.</span><span class="n">logits</span>
    <span class="n">mask_token_logits</span> <span class="o">=</span> <span class="n">token_logits</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">mask_token_index</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">mask_token_probs</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">softmax</span><span class="p">(</span><span class="n">mask_token_logits</span><span class="p">)</span>
    <span class="n">top_k</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">math</span><span class="o">.</span><span class="n">top_k</span><span class="p">(</span><span class="n">mask_token_probs</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    <span class="n">probs</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">top_k</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">numpy</span><span class="p">(),</span> <span class="n">top_k</span><span class="o">.</span><span class="n">indices</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">decode</span><span class="p">([</span><span class="n">index</span><span class="p">])</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span> 
    <span class="k">return</span> <span class="n">tokens</span><span class="p">,</span> <span class="n">probs</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For plotting the predicted tokens and using the probabilities as coordiates, we create the following function</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
    <span class="n">intersection</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tokens1</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">tokens2</span><span class="p">))</span>
    <span class="n">indicies1</span> <span class="o">=</span> <span class="p">[</span><span class="n">tokens1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">intersection</span><span class="p">]</span>
    <span class="n">indicies2</span> <span class="o">=</span> <span class="p">[</span><span class="n">tokens2</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">intersection</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
        <span class="s1">'token'</span><span class="p">:</span> <span class="n">intersection</span><span class="p">,</span>
        <span class="s1">'X'</span><span class="p">:</span> <span class="p">[</span><span class="n">probs1</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indicies1</span><span class="p">],</span>
        <span class="s1">'Y'</span><span class="p">:</span> <span class="p">[</span><span class="n">probs2</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indicies2</span><span class="p">]</span>
        <span class="p">})</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">"X"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">"Y"</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">"token"</span><span class="p">,</span> <span class="n">log_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">size_max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
                 <span class="n">labels</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">label1</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">label2</span><span class="p">)</span>
                 <span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span><span class="n">textposition</span><span class="o">=</span><span class="s1">'top center'</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">title_text</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's define a sentence and try to see how the language model top prediction changes based on the location for <code>New York</code> vs <code>Texas</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"in New York, they like to buy </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"in Texas, they like to buy </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="s2">"New York"</span>
<span class="n">label2</span> <span class="o">=</span> <span class="s1">'Texas'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">'Likelihood per token: New York vs Texas'</span>
<span class="n">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

<meta charset="utf-8">

    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>                <div id="aa29e555-96b3-4f5a-af79-4cf89f0849ac" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("aa29e555-96b3-4f5a-af79-4cf89f0849ac")) {                    Plotly.newPlot(                        "aa29e555-96b3-4f5a-af79-4cf89f0849ac",                        [{"hovertemplate":"New York=%{x}<br>Texas=%{y}<br>token=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["wines","cattle","cannabis","animals","tickets","fish","supplies","junk","tequila","cars","furniture","diamonds","milk","champagne","stocks","roses","buses","music","golf","anything","shit","lunch","gold","vehicles","tomatoes","cookies","games","people","antiques","apples","drugs","pets","vegetables","gas","automobiles","car","everything","marijuana","glasses","horses","radios","seafood","foods","liquor","airplanes","meat","candy","groceries","homes","sex","clothing","trucks","toys","pianos","houses","chips","bars","beer","pictures","places","drinks","flowers","fruit","cards","jewelry","goods","cheese","wine","vodka","time","stock","sunglasses","art","lots","whiskey","steak","insurance","restaurants","kids","weapons","trees","sweets","property","books","electronics","jeans","women","cotton","items","bicycles","bread","movies","bananas","it","bikes","tea","pills","guns","cigarettes","computers","rum","popcorn","plants","shoes","dolls","dogs","products","tobacco","electricity","stamps","tv","dvds","wood","hotels","guitars","clothes","coffee","motorcycles","christmas","watches","equipment","one","cats","eggs","alcohol","newspapers","television","cameras","dinner","food","stores","pizza","firearms","something","cocaine","things","stuff","spirits","space","money","fireworks","chicken","more","gum","heroin","boats","pasta","condoms","chocolate","them"],"x":[0.002312073949724436,0.0011526771122589707,0.0006402824074029922,0.0026899126823991537,0.005784657318145037,0.005934347864240408,0.0008099020342342556,0.002036414109170437,0.0013557481579482555,0.09902533143758774,0.009405611082911491,0.003754017408937216,0.001139873987995088,0.003222638973966241,0.0019857785664498806,0.0018061830196529627,0.0006290193414315581,0.004204410128295422,0.0009730166057124734,0.0023224472533911467,0.00076842907583341,0.0007729204371571541,0.0007404911448247731,0.002089585643261671,0.0013867688830941916,0.0020068318117409945,0.0008272842387668788,0.0029491777531802654,0.011353986337780952,0.0013218746753409505,0.02581281028687954,0.0012828909093514085,0.0011865304550155997,0.0013774172402918339,0.00402112677693367,0.0006175434100441635,0.004528248216956854,0.0012242242228239775,0.002134813228622079,0.006808341946452856,0.0006140395416878164,0.0009570912807248533,0.0007869909750297666,0.0011831457959488034,0.002882202621549368,0.0026109362952411175,0.011457172222435474,0.005779374856501818,0.0018126730574294925,0.001813938724808395,0.006627356167882681,0.000679601973388344,0.008210458792746067,0.0017579295672476292,0.007901397533714771,0.00064871582435444,0.0013741658767685294,0.007473423145711422,0.0025584138929843903,0.0014711413532495499,0.002624293090775609,0.013892978429794312,0.0019205899443477392,0.002145120408385992,0.013520978391170502,0.004339173901826143,0.0013909941771999002,0.015447165817022324,0.003924315329641104,0.0007300882716663182,0.0009526901412755251,0.001550509361550212,0.004755720961838961,0.0010141696548089385,0.0014580239076167345,0.0007869612891227007,0.0011825936380773783,0.0024068455677479506,0.0011062275152653456,0.0021138531155884266,0.0006301772664301097,0.0006892234086990356,0.0017646835185587406,0.033434025943279266,0.002964469837024808,0.004570076707750559,0.0018989965319633484,0.0009006453328765929,0.0017301678890362382,0.006738539785146713,0.0015457428526133299,0.009274103678762913,0.0010306475451216102,0.012492101639509201,0.004448418505489826,0.002043853048235178,0.0010414195712655783,0.010947711765766144,0.012823148630559444,0.0026865005493164062,0.0025630758609622717,0.001100428868085146,0.0007736848201602697,0.01299808919429779,0.0035573181230574846,0.0011557872639968991,0.0037586905527859926,0.0007514510070905089,0.0007929993444122374,0.001828162232413888,0.00118430913425982,0.0013741161674261093,0.0008459074306301773,0.0015284543624147773,0.008940189145505428,0.042293861508369446,0.010331974364817142,0.003136698855087161,0.001201766193844378,0.005385734140872955,0.000814008351881057,0.0008107509929686785,0.0010008164681494236,0.0010676453821361065,0.004963464103639126,0.002942509949207306,0.0012279384536668658,0.0010536136105656624,0.000596935220528394,0.019283782690763474,0.0013056056341156363,0.007841217331588268,0.0010804760968312621,0.01039098110049963,0.00154605763964355,0.0268689151853323,0.010444954968988895,0.0010612155310809612,0.000661232101265341,0.0033029038459062576,0.0021550797391682863,0.0014462973922491074,0.0031778377015143633,0.0010686267632991076,0.0009396623354405165,0.0020348725374788046,0.002355508040636778,0.002013149671256542,0.005424518138170242,0.010153348557651043],"xaxis":"x","y":[0.001927166827954352,0.024063844233751297,0.0009314135531894863,0.00458222022280097,0.004877757281064987,0.015103550627827644,0.0010034939041361213,0.001169668510556221,0.005617041140794754,0.11032640188932419,0.0028945377562195063,0.0027341966051608324,0.005526854190975428,0.0012420553248375654,0.0012740065576508641,0.0007905031088739634,0.0006360845291055739,0.0032936688512563705,0.0027117652352899313,0.0016518370248377323,0.0010138974757865071,0.0006136595620773733,0.001369107631035149,0.003717368934303522,0.002088147448375821,0.002586042508482933,0.0006165774539113045,0.0023066068533807993,0.009427430108189583,0.002306661568582058,0.031054196879267693,0.0010488555999472737,0.0011683112243190408,0.0044850376434624195,0.002351253991946578,0.0006601235363632441,0.0029834795277565718,0.0051154643297195435,0.0016480700578540564,0.018790828064084053,0.000926219392567873,0.0014111076015979052,0.0010576087515801191,0.0035894610919058323,0.001545317005366087,0.005520098377019167,0.01737375371158123,0.008198324590921402,0.0019191765459254384,0.0007375311688520014,0.0008513233042322099,0.001804214552976191,0.0025098200421780348,0.0006682858802378178,0.005377450957894325,0.0016833125846460462,0.0031845581252127886,0.038432542234659195,0.0006834999658167362,0.0013068795669823885,0.0047186799347400665,0.007184394169598818,0.0030771333258599043,0.000781691400334239,0.0030815398786216974,0.0023986813612282276,0.0026343544013798237,0.012160355225205421,0.0022847007494419813,0.0009945633355528116,0.0012245390098541975,0.0008270586258731782,0.0006391714559867978,0.0008680959581397474,0.009923681616783142,0.002364082494750619,0.002088912297040224,0.0023725826758891344,0.0022363318130373955,0.0027669027913361788,0.0009452479425817728,0.0007024546503089368,0.0021578746382147074,0.004892103374004364,0.0017106315353885293,0.0025053229182958603,0.0011227253125980496,0.006615361664444208,0.0007176091312430799,0.002279323060065508,0.0015848510665819049,0.0055586202070117,0.0009611988789401948,0.011138416826725006,0.003117965068668127,0.0016020057955756783,0.0007637583184987307,0.028518356382846832,0.006339114159345627,0.0013308480847626925,0.005315159447491169,0.0012595902662724257,0.000809987832326442,0.005748507101088762,0.0008220107411034405,0.0013870983384549618,0.002071500290185213,0.0017935283249244094,0.0014019171940162778,0.0009193643345497549,0.0012110347161069512,0.0007891453569754958,0.0014745587250217795,0.0011297453893348575,0.016126323491334915,0.00592568377032876,0.014766823500394821,0.0034334498923271894,0.0016953714657574892,0.0013402861077338457,0.00119976163841784,0.0008991422946564853,0.001154561759904027,0.001235481584444642,0.02136758528649807,0.001053412677720189,0.0008635969716124237,0.0007811898831278086,0.0007761479937471449,0.03037702478468418,0.0016844599740579724,0.00594151159748435,0.0015983448829501867,0.005906222388148308,0.002976742573082447,0.011517607606947422,0.008371414616703987,0.0010251497151330113,0.0007238963735289872,0.0024943994358181953,0.0019458887400105596,0.005127349868416786,0.0029371788259595633,0.0008588901837356389,0.001088445307686925,0.0015020581195130944,0.001286371611058712,0.0006208988488651812,0.003229886293411255,0.008136196061968803],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"New York"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Texas"},"type":"log"},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Likelihood per token: New York vs Texas"},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('aa29e555-96b3-4f5a-af79-4cf89f0849ac');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>


</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can see the bias for <code>books</code>, <code>clothes</code> which seem to be predicted more for New Yorkers, while buying <code>cattle</code> have higher likelihood for people in Texas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's try another set of locations: <code>Londeners</code> vs <code>Algerois</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"in London, they like to buy </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"in Algiers, they like to buy </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="s1">'London'</span>
<span class="n">label2</span> <span class="o">=</span> <span class="s1">'Algiers'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">'Likelihood per token: London vs Algiers'</span>
<span class="n">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

<meta charset="utf-8">

    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>                <div id="eafd0a3a-b5a4-4b2b-87ef-0b6b8b84ba4d" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("eafd0a3a-b5a4-4b2b-87ef-0b6b8b84ba4d")) {                    Plotly.newPlot(                        "eafd0a3a-b5a4-4b2b-87ef-0b6b8b84ba4d",                        [{"hovertemplate":"London=%{x}<br>Algiers=%{y}<br>token=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["chocolate","carpets","clothes","electronics","hats","dresses","nothing","wine","gifts","women","hotels","drink","things","boats","spirits","wood","cakes","sweets","costumes","fireworks","flowers","whiskey","fish","furniture","chicken","restaurants","cannabis","butter","newspapers","antiquities","dogs","pasta","gold","property","tomatoes","more","beads","aircraft","art","homes","rum","items","food","car","alcohol","buses","bread","groceries","everything","stock","cotton","pizza","tobacco","vodka","houses","bars","jewellery","bananas","motorcycles","electricity","swords","jeans","automobiles","cheese","tickets","drinks","guitars","fruit","people","tequila","taxis","coins","places","vehicles","horses","watches","bicycles","guns","radios","milk","paintings","instruments","arms","cocaine","music","jewelry","pictures","vegetables","champagne","eggs","meat","anything","sunglasses","beer","products","guinness","stuff","christmas","diamonds","pianos","cake","jewels","drugs","cigarettes","cats","shops","it","books","clothing","tea","money","perfume","cars","weapons","sex","wool","stocks","animals","coffee","antiques","something","silk","ships","movies","stamps","stores","petrol","glasses","goods","toys","gas","bikes","firearms","dolls","whisky","one","merchandise","cattle","heroin","shoes","glass","wines","apartments","them","liquor","candy","apples"],"x":[0.005652872379869223,0.0008255906286649406,0.053225863724946976,0.0027520698495209217,0.0009775216458365321,0.0032712258398532867,0.0007261806167662144,0.01789805479347706,0.001824629376642406,0.0014903834089636803,0.001603375538252294,0.0007646785816177726,0.012732233852148056,0.0024101422168314457,0.0017112705390900373,0.0009994126157835126,0.0030848393216729164,0.0009803420398384333,0.0009817308746278286,0.0017943045822903514,0.01669280044734478,0.0013358124997466803,0.0059798345901072025,0.013654106296598911,0.0009958866285160184,0.0014951582998037338,0.0008441101526841521,0.0007838986348360777,0.0032445869874209166,0.000716686190571636,0.001491163275204599,0.0016041126800701022,0.0008954115328378975,0.0016333027742803097,0.0007904903613962233,0.002504246076568961,0.0008030210738070309,0.00098234205506742,0.004973334260284901,0.0012965116184204817,0.0031365652102977037,0.001980480505153537,0.015289072878658772,0.000764874741435051,0.005668233148753643,0.0011243836488574743,0.002089139772579074,0.0035222142469137907,0.0020672022365033627,0.0009490535594522953,0.0006814436055719852,0.004395158030092716,0.0009814646327868104,0.0030584153719246387,0.008659099228680134,0.001207485212944448,0.006782738491892815,0.0008326325914822519,0.004302541725337505,0.001152241020463407,0.000769650680013001,0.005088669713586569,0.0018932755338028073,0.0011420052032917738,0.007269577588886023,0.0043891784735023975,0.009376103058457375,0.001991908997297287,0.0020909844897687435,0.0006658310303464532,0.0019695458468049765,0.0011334872106090188,0.001242655562236905,0.0030792225152254105,0.006149623543024063,0.009853290393948555,0.008208699524402618,0.010090884752571583,0.0007568174041807652,0.001308862934820354,0.005733752157539129,0.0008104789885692298,0.0008159729768522084,0.0008826049161143601,0.004934156779199839,0.004297010134905577,0.002403903054073453,0.0013869304675608873,0.0051132384687662125,0.0011481714900583029,0.002485165372490883,0.0015625311061739922,0.0014822273515164852,0.0077954004518687725,0.0028102449141442776,0.0009513761033304036,0.00633998541161418,0.0010276782559230924,0.005353386979550123,0.002493241336196661,0.001558715826831758,0.0012651386205106974,0.020667439326643944,0.013077561743557453,0.0011693569831550121,0.0012893660459667444,0.01074658427387476,0.03721281886100769,0.00826086476445198,0.007876590825617313,0.002539742039516568,0.0027046077884733677,0.08211690187454224,0.0036084691528230906,0.0010362921748310328,0.0013328308705240488,0.002047240035608411,0.0022773428354412317,0.009625126607716084,0.016769949346780777,0.00782660860568285,0.0007331884698942304,0.0007279182900674641,0.0034590892028063536,0.0028006653301417828,0.001031290739774704,0.0009030081564560533,0.002897657686844468,0.0057517653331160545,0.008295715786516666,0.0017278704326599836,0.005561293568462133,0.0012895894469693303,0.0042317952029407024,0.002016486832872033,0.0009441007277928293,0.0007683206931687891,0.001286931335926056,0.0010605501011013985,0.016096463426947594,0.0013053712900727987,0.003416980616748333,0.0024545216001570225,0.008183096535503864,0.0008021374815143645,0.004027271643280983,0.001269542844966054],"xaxis":"x","y":[0.004012505989521742,0.0009974424028769135,0.030585287138819695,0.0008257325971499085,0.0006395175005309284,0.0010933652520179749,0.0008131610811688006,0.050617050379514694,0.000670532404910773,0.0043137636967003345,0.00219540623947978,0.0014274539425969124,0.005696270614862442,0.0024417005479335785,0.0014995933743193746,0.0015819630352780223,0.0011688745580613613,0.0015337415970861912,0.0006174262962304056,0.002112397225573659,0.006279995199292898,0.0015167196979746222,0.02724762260913849,0.004091580864042044,0.0026917695067822933,0.0016054974403232336,0.0011673879344016314,0.0009040967561304569,0.0014603750314563513,0.0012966672657057643,0.0014076774241402745,0.0026469689328223467,0.0032196224201470613,0.0021246103569865227,0.0009143388597294688,0.0022934195585548878,0.001069757156074047,0.0011486634612083435,0.003768629627302289,0.0006350913317874074,0.014560460112988949,0.0012729718582704663,0.0414765365421772,0.0006801953422836959,0.01558225229382515,0.0013385521015152335,0.009783237241208553,0.002985177328810096,0.0019213557243347168,0.0006257242057472467,0.004744803067296743,0.0013532157754525542,0.003336751600727439,0.005284603219479322,0.0053664264269173145,0.0007100601796992123,0.0014032615581527352,0.001338050584308803,0.0021575773134827614,0.0019321078434586525,0.000642694067209959,0.001593528431840241,0.004330649506300688,0.0014420802472159266,0.0030415591318160295,0.0039009926840662956,0.006082816515117884,0.004796452354639769,0.0024681417271494865,0.0007730420911684632,0.002239800291135907,0.0019713614601641893,0.0006447187042795122,0.003687335876747966,0.018113676458597183,0.005032404325902462,0.004180885851383209,0.011267606168985367,0.0006242126692086458,0.002687702653929591,0.0014728617388755083,0.0010699831182137132,0.002810245845466852,0.0011914171045646071,0.0037335646338760853,0.0029975827783346176,0.000682109675835818,0.002242420567199588,0.00644339993596077,0.0006581735797226429,0.010691952891647816,0.0010391497053205967,0.0006089032394811511,0.02281983196735382,0.002257485641166568,0.0013838070444762707,0.0015725342091172934,0.0006656693876720965,0.005995211191475391,0.0007749043870717287,0.0006844568415544927,0.0006324700079858303,0.012062673456966877,0.015588687732815742,0.0007912814617156982,0.0011168434284627438,0.013590284623205662,0.00581216299906373,0.005085275508463383,0.00600733608007431,0.0040886010974645615,0.0034321306739002466,0.03709077090024948,0.005949616897851229,0.0010939858620986342,0.0014778010081499815,0.0011115740053355694,0.0029310660902410746,0.024849826470017433,0.005625707097351551,0.007955873385071754,0.003044604789465666,0.002229456789791584,0.0013935647439211607,0.0019201982067897916,0.0009661662625148892,0.0012423224980011582,0.0011147018522024155,0.009859949350357056,0.0015232455916702747,0.004021577537059784,0.0009235749603249133,0.0016703881556168199,0.0007442825008183718,0.0016091503202915192,0.001061467221006751,0.0009447865304537117,0.005243163090199232,0.0008395111071877182,0.014071129262447357,0.0009341321419924498,0.0056920102797448635,0.001192021183669567,0.0074783856980502605,0.0018886622274294496,0.002066597808152437,0.0011289108078926802],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"London"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Algiers"},"type":"log"},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Likelihood per token: London vs Algiers"},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('eafd0a3a-b5a4-4b2b-87ef-0b6b8b84ba4d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>


</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Seems that people in London tend to buy way more books than those in Algiers</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, lets try something with gender difference</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Lauren was born in the year of </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Elsie was born in the year of </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="s1">'Lauren'</span>
<span class="n">label2</span> <span class="o">=</span> <span class="s1">'Elsie'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">'Likelihood per token: Lauren vs Elsie'</span>
<span class="n">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

<meta charset="utf-8">

    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>                <div id="e6d342e6-441a-4572-9bed-33d99129747c" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e6d342e6-441a-4572-9bed-33d99129747c")) {                    Plotly.newPlot(                        "e6d342e6-441a-4572-9bed-33d99129747c",                        [{"hovertemplate":"Lauren=%{x}<br>Elsie=%{y}<br>token=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["depression","february","god","jan","time","no","c","approx","oct","augustus","independence","kindergarten","apollo","october","december","conception","life","sept","little","carmel","ad","late","autumn","ed","age","easter","sgt","march","venus","january","spring","november","august","hon","christ","ford","ca","hell","brig","infancy","london","zero","womb","xiii","childbirth","maternity","viii","school","rome","dec","england","april","francis","july","bronze","vol","year","june","christmas","max","d","seven","earth","unknown","elizabeth","may","her","childhood","circa","summer","b","ten","preschool","death","feb","c1","mars","mt","birth","marriage","september","paris","[UNK]"],"x":[0.0008770813001319766,0.009467055089771748,0.0012127727968618274,0.0007551840390078723,0.0012271801242604852,0.0007094297325238585,0.03989064693450928,0.003979534842073917,0.0014722616178914905,0.0014099461259320378,0.002888690447434783,0.0031727768946439028,0.0009839998092502356,0.012941176071763039,0.004665586166083813,0.0023265460040420294,0.0010825166245922446,0.001714349607937038,0.000757628760766238,0.0009732572361826897,0.0013620797544717789,0.0016119714127853513,0.0016250844346359372,0.000502976356074214,0.0005352029111236334,0.0010248076869174838,0.00098044250626117,0.007858204655349255,0.0007786265341565013,0.0025837516877800226,0.0022382705938071012,0.008003578521311283,0.005992568098008633,0.0027631204575300217,0.005515163764357567,0.000938962388318032,0.011579107493162155,0.001782160485163331,0.0011903374688699841,0.000720763870049268,0.002024171408265829,0.0010310247307643294,0.0006943970220163465,0.0005101186106912792,0.0007659360999241471,0.000683953519910574,0.0014125864254310727,0.0013166364515200257,0.0006190551212057471,0.0009957825532183051,0.0008261852781288326,0.02738639898598194,0.0007307672640308738,0.0071665518917143345,0.0006057152058929205,0.001347254146821797,0.0007115858024917543,0.012411787174642086,0.00470463652163744,0.0006118513992987573,0.0009750078897923231,0.0010158938821405172,0.0015119677409529686,0.0020544882863759995,0.000734939705580473,0.005547179374843836,0.0006526560173369944,0.00644138315692544,0.001524594146758318,0.0008472991175949574,0.0007294154493138194,0.0006903339526616037,0.0027411587070673704,0.0013246879680082202,0.002101284684613347,0.0005406762356869876,0.0037301965057849884,0.007063668221235275,0.059067584574222565,0.000521406764164567,0.012465416453778744,0.0005207220674492419,0.0016169167356565595],"xaxis":"x","y":[0.0002802364178933203,0.009722630493342876,0.0002908976166509092,0.0013836690923199058,0.0006283562397584319,0.0015369827160611749,0.40997034311294556,0.00934821367263794,0.0019472120329737663,0.0028479178436100483,0.0014646940398961306,0.0009924585465341806,0.0005448414012789726,0.011359711177647114,0.005777261219918728,0.0004345955094322562,0.0004913213197141886,0.0016242745332419872,0.000526083807926625,0.0007677217945456505,0.0031218179501593113,0.0012601958587765694,0.0011036295909434557,0.0003209963033441454,0.0003956365690100938,0.0007398707093670964,0.000322124978993088,0.014535194262862206,0.00026548738242127,0.0031957628671079874,0.0011573269730433822,0.00801794696599245,0.0072373137809336185,0.0036448983009904623,0.0014301859773695469,0.0002720184565987438,0.06157146021723747,0.00032003133674152195,0.001683893846347928,0.0006087786750867963,0.0018860864220187068,0.0002446374564897269,0.0006623053341172636,0.00047396632726304233,0.0005900142132304609,0.00026270822854712605,0.0016445036744698882,0.0005347339902073145,0.0005234949057921767,0.0011637501884251833,0.0016408244846388698,0.020560316741466522,0.0008429917506873608,0.006892201025038958,0.0002788204583339393,0.001698182080872357,0.001133555662818253,0.009339704178273678,0.0035507173743098974,0.00029376070597209036,0.0011210610391572118,0.00031332310754805803,0.00024637661408632994,0.0012155090225860476,0.0003939107700716704,0.008122404105961323,0.00044578142114914954,0.003654039464890957,0.0015622314531356096,0.0002934037474915385,0.0009270000155083835,0.00034183176467195153,0.0002809750149026513,0.0007803644402883947,0.004013548605144024,0.0009916273411363363,0.001644542790018022,0.0018864274024963379,0.03372799977660179,0.0008773395675234497,0.009189474396407604,0.0002812406746670604,0.0019625460263341665],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Lauren"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Elsie"},"type":"log"},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Likelihood per token: Lauren vs Elsie"},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e6d342e6-441a-4572-9bed-33d99129747c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>


</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Jane worked as a </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Jim worked as a </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2">."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="s1">'Jane'</span>
<span class="n">label2</span> <span class="o">=</span> <span class="s1">'Jim'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">'Likelihood per token: Jane vs Jim'</span>
<span class="n">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

<meta charset="utf-8">

    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>                <div id="79b031e7-84e0-4620-bd09-82f78d646c83" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("79b031e7-84e0-4620-bd09-82f78d646c83")) {                    Plotly.newPlot(                        "79b031e7-84e0-4620-bd09-82f78d646c83",                        [{"hovertemplate":"Jane=%{x}<br>Jim=%{y}<br>token=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["hunter","cooper","scribe","rabbi","dresser","printer","cartoonist","driver","mechanic","painter","foreman","carpenter","judge","lawyer","psychologist","waiter","dancer","professor","prostitute","tailor","director","consultant","solicitor","poet","guide","researcher","trader","politician","porter","vendor","butler","doctor","writer","cop","jockey","bodyguard","surveyor","coach","dj","pilot","tutor","gardener","counselor","priest","runner","missionary","physician","slave","bartender","courier","tourist","guard","sergeant","policeman","merchant","cook","scientist","librarian","farmer","nurse","fisherman","singer","pastor","sailor","vet","sheriff","scout","student","valet","businessman","technician","sculptor","engineer","receptionist","messenger","child","trainer","nanny","baker","constable","teenager","miller","mason","chemist","supervisor","minister","butcher","weaver","accountant","manager","shepherd","maid","coroner","musician","banker","teacher","salesman","blacksmith","tanner","builder","journalist","medium","servant","professional","hobby","designer","treasurer","preacher","cleaner","surgeon","broker","detective","pianist","worker","landlord","songwriter","marine","volunteer","server","friend","magician","dentist","producer","barber","seaman","playwright","boxer","photographer","prosecutor","chef","screenwriter","contractor","clerk","barrister","diplomat","miner","broadcaster","translator","deputy","reporter","lecturer","model","waitress","secretary","father","postmaster","soldier"],"x":[0.00017986464081332088,0.00020889889856334776,0.0005158695857971907,0.00030440371483564377,0.000840054068248719,0.0011356314644217491,0.00021910524810664356,0.0034571627620607615,0.005646615754812956,0.003991042263805866,0.00019772689847741276,0.014823077246546745,0.000877094513271004,0.02387654408812523,0.001394897699356079,0.006055144593119621,0.0016308603808283806,0.000322017032885924,0.020550739020109177,0.002730452222749591,0.0003019744763150811,0.0003666766860987991,0.0006503474432975054,0.0002508752513676882,0.0006029087817296386,0.000345067324815318,0.0002759816125035286,0.00041560493991710246,0.0011317786993458867,0.00017550891789142042,0.0006016588886268437,0.00980385858565569,0.0026592970825731754,0.0006020693108439445,0.0003302517579868436,0.00036061686114408076,0.0014231714885681868,0.001834394410252571,0.00026234055985696614,0.0005274507566355169,0.0010440159821882844,0.0030942759476602077,0.0007748950738459826,0.0005028316518291831,0.00038903389940969646,0.0007031020359136164,0.002606541384011507,0.0007263827719725668,0.011012624949216843,0.0008452655747532845,0.00017188733909279108,0.0005004957783967257,0.00023219866852741688,0.0017882228130474687,0.0008422693354077637,0.022279297932982445,0.00017479575762990862,0.008528769947588444,0.02550862543284893,0.17369239032268524,0.0007270817295648158,0.0032006872352212667,0.0004426539526320994,0.0017523982096463442,0.0005657638539560139,0.00031516060698777437,0.0009263085084967315,0.0008330692653544247,0.0006783998687751591,0.0006864876486361027,0.00036838173400610685,0.0006017940468154848,0.00024830494658090174,0.005410762038081884,0.0008107610046863556,0.0012387814931571484,0.0014615760883316398,0.01758451759815216,0.01116897165775299,0.0004906435497105122,0.001894208020530641,0.00020452099852263927,0.00016672385390847921,0.0010229571489617229,0.0005970980855636299,0.00029999177786521614,0.0012663612142205238,0.0005810092552565038,0.0006123690400272608,0.0033762017264962196,0.00038040231447666883,0.03207585588097572,0.00034809825592674315,0.0015328137669712305,0.0013506615068763494,0.11605384200811386,0.004596926271915436,0.0009906551567837596,0.0001622974668862298,0.000596730038523674,0.019031357020139694,0.0007649483159184456,0.0011217899154871702,0.0005134931416250765,0.00027206254890188575,0.0004869908734690398,0.00045720991329289973,0.0002577266423031688,0.004374228417873383,0.0005851262831129134,0.0003448622301220894,0.00040518282912671566,0.001396654755808413,0.0006450461223721504,0.00016644122661091387,0.00039836709038354456,0.0006621534121222794,0.0007033153087832034,0.0011416663182899356,0.00021052014199085534,0.00020059716189280152,0.002509159268811345,0.0004727303166873753,0.003860154654830694,0.00020919923554174602,0.0001682373695075512,0.0005024884594604373,0.0037838213611394167,0.0005613013636320829,0.0028155145701020956,0.0005567585467360914,0.0022065311204642057,0.019657699391245842,0.00040312731289304793,0.0003875079855788499,0.0038151531480252743,0.000338590529281646,0.0010549704311415553,0.0002342273510294035,0.002876123646274209,0.0010631640907377005,0.018936797976493835,0.20539170503616333,0.026636719703674316,0.00019561313092708588,0.00020645029144361615,0.001826716586947441],"xaxis":"x","y":[0.0007875548908486962,0.0010455993469804525,0.000648191140498966,0.0023301411420106888,0.0007244098233059049,0.003377303248271346,0.0023032776080071926,0.01770792342722416,0.01887727715075016,0.0034092413261532784,0.0020155722741037607,0.034176141023635864,0.005642758682370186,0.053566399961709976,0.0008012795005925,0.025225801393389702,0.000758629641495645,0.0008844838594086468,0.0008358044433407485,0.003566151252016425,0.0007640158873982728,0.0014345888048410416,0.0012361550470814109,0.0006528738886117935,0.000440878386143595,0.0004362172621767968,0.0007176402723416686,0.0027013260405510664,0.0010540769435465336,0.000526110699865967,0.0010728815104812384,0.009980723261833191,0.004674916155636311,0.005816263612359762,0.00326071516610682,0.0009738990920595825,0.002982253674417734,0.013149978592991829,0.003840060904622078,0.003897173795849085,0.0007700114510953426,0.006858430802822113,0.0008456566138193011,0.0035810770932585,0.0005984688177704811,0.0020864754915237427,0.002180517418310046,0.0004989804583601654,0.03223501145839691,0.0007888342370279133,0.00044637362589128315,0.0013118776259943843,0.00093735137488693,0.017722690477967262,0.0022408750373870134,0.010214135982096195,0.0004518598143476993,0.001464426633901894,0.10285478830337524,0.006982941646128893,0.01036013476550579,0.0035662418231368065,0.003960293717682362,0.003931106999516487,0.0018746285932138562,0.003022837918251753,0.0013455055886879563,0.0011838569771498442,0.0006412464426830411,0.009867173619568348,0.0010938887717202306,0.0012722843093797565,0.0014199977740645409,0.0007457141764461994,0.0008366824476979673,0.0006662362138740718,0.006029896438121796,0.000667254556901753,0.01416136883199215,0.0011466705473139882,0.001524726627394557,0.0009874911047518253,0.0014028367586433887,0.0012375116348266602,0.0007764860056340694,0.0019218699308112264,0.005830961745232344,0.00038965142448432744,0.0017136104870587587,0.011954672634601593,0.0008720244513824582,0.00038573690108023584,0.0014133156510069966,0.006903819739818573,0.00259667681530118,0.08654000610113144,0.04252101108431816,0.005569644272327423,0.0006274463376030326,0.007403387222439051,0.017508449032902718,0.00041537577635608613,0.0003959691384807229,0.0007955910987220705,0.00040145477396436036,0.0004903217777609825,0.0005013951449654996,0.0021041887812316418,0.002314185258001089,0.0009851808426901698,0.000686914601828903,0.0014289746759459376,0.0012582289054989815,0.0011547269532456994,0.0011616142001003027,0.0022204886190593243,0.002582358429208398,0.0007201320258900523,0.0012379777617752552,0.0005126713658683002,0.0011829495197162032,0.005788697395473719,0.0021348856389522552,0.008847716264426708,0.0006240326329134405,0.0004806368378922343,0.005416376981884241,0.005293561611324549,0.002080542268231511,0.003218044526875019,0.0019287113100290298,0.013366246595978737,0.016837581992149353,0.0009166747913695872,0.0009001603466458619,0.014862459152936935,0.0012931983219459653,0.000532279082108289,0.0011675788555294275,0.0036428445018827915,0.002305584028363228,0.005376002285629511,0.013217582367360592,0.00466093560680747,0.002475039567798376,0.0005171577213332057,0.008363601751625538],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Jane"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Jim"},"type":"log"},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Likelihood per token: Jane vs Jim"},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('79b031e7-84e0-4620-bd09-82f78d646c83');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>


</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is funny how lot of those top predictions does not even make sense, but still the model predicted <code>maid</code> for Jane vs salesman for Jim.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"The doctor performed CPR even though </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2"> knew it was too late."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span> <span class="o">=</span> <span class="n">top_words</span><span class="p">(</span><span class="sa">f</span><span class="s2">"The nurse performed CPR even though </span><span class="si">{</span><span class="n">tokenizer</span><span class="o">.</span><span class="n">mask_token</span><span class="si">}</span><span class="s2"> knew it was too late."</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">label1</span> <span class="o">=</span> <span class="s1">'Doctor'</span>
<span class="n">label2</span> <span class="o">=</span> <span class="s1">'Nurse'</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">'Likelihood per token: Doctor vs Nurse'</span>
<span class="n">plot_intersection</span><span class="p">(</span><span class="n">tokens1</span><span class="p">,</span> <span class="n">probs1</span><span class="p">,</span> <span class="n">label1</span><span class="p">,</span> <span class="n">tokens2</span><span class="p">,</span> <span class="n">probs2</span><span class="p">,</span> <span class="n">label2</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

<meta charset="utf-8">

    <div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>                <div id="753828a0-0cbd-4eb4-96e5-8938b0b3b973" class="plotly-graph-div" style="height:800px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("753828a0-0cbd-4eb4-96e5-8938b0b3b973")) {                    Plotly.newPlot(                        "753828a0-0cbd-4eb4-96e5-8938b0b3b973",                        [{"hovertemplate":"Doctor=%{x}<br>Nurse=%{y}<br>token=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["hunter","aiden","tony","heather","mother","he","god","mom","anyone","tom","millie","chloe","neil","lynn","blake","marcus","frank","ethan","sam","nobody","jesse","olivia","ashe","maria","kevin","alex","lou","bobby","johnny","john","everybody","margaret","sarah","jeff","lisa","jake","julia","jon","annie","most","mac","jill","kim","steve","ben","gabriel","rick","amy","katherine","ed","robert","jane","henry","alyssa","both","amanda","sara","greg","adam","susan","anna","maggie","emma","nick","christian","lara","we","helen","jennifer","peter","elena","i","jared","ty","everyone","people","ryan","samantha","mary","thomas","michael","ari","lucy","vincent","smith","janet","miranda","beth","eva","al","amelia","carol","matt","abby","david","andy","chris","laura","colin","they","mike","who","liz","connor","joseph","logan","matthew","paul","max","someone","meg","lily","nathan","elizabeth","claire","it","billy","the","josh","langdon","she","simon","mark","jack","gray","all","ray","rose","jenny","harry","julie","jason","karen","eddie","alan","you","joe","william","doctors","james","hannah","seth","michelle","luke","kate","rachel","grace","emily"],"x":[6.26712862867862e-05,5.103878356749192e-05,9.572428825777024e-05,6.175528687890619e-05,3.495388591545634e-05,0.79483962059021,0.00011618861026363447,6.288148142630234e-05,5.151871664565988e-05,0.00018994466518051922,0.00010037839092547074,4.4422162318369374e-05,0.00012463031453080475,3.4645407140487805e-05,6.935133569641039e-05,3.9521044527646154e-05,0.0001724439498502761,0.00015028326015453786,0.00024699806817807257,0.00016896655142772943,8.078208338702098e-05,7.416692824335769e-05,4.505269680521451e-05,3.73677394236438e-05,9.64883147389628e-05,0.0006136098527349532,5.332906584953889e-05,4.2208215745631605e-05,7.934180030133575e-05,0.00022510220878757536,0.00023451054585166276,4.014834848931059e-05,0.00014483698760159314,0.00010962123633362353,7.309107604669407e-05,9.12501200218685e-05,0.00010392260446678847,6.44383326289244e-05,4.5089574996382e-05,6.120070611359552e-05,6.446451880037785e-05,3.378560722921975e-05,7.465915405191481e-05,0.00011731337872333825,8.002961840247735e-05,6.569015386048704e-05,0.00021016078244429082,8.609933138359338e-05,4.2125455365749076e-05,9.249865979654714e-05,9.844759188126773e-05,5.793758828076534e-05,0.00014003063552081585,3.8092075556050986e-05,0.00024165584181901067,5.2376402891241014e-05,0.00016760161088313907,0.00013553570897784084,8.017392246983945e-05,6.562178168678656e-05,0.00015147493104450405,0.00010136856872122735,6.918671715538949e-05,5.708124808734283e-05,7.980097871040925e-05,3.335329165565781e-05,0.006249348632991314,7.838327292120084e-05,7.592010661028326e-05,0.0002531333884689957,3.673767423606478e-05,0.03367866203188896,4.9143236537929624e-05,5.719736873288639e-05,0.006769954692572355,0.0001560373930260539,7.836600707378238e-05,4.15223439631518e-05,0.0003335874935146421,0.0001566091232234612,0.0001992424513446167,3.375308006070554e-05,4.359916056273505e-05,6.815741653554142e-05,4.348782749730162e-05,4.393231210997328e-05,3.47174791386351e-05,0.00029949622694402933,5.273074202705175e-05,4.041225474793464e-05,5.811456139781512e-05,0.00010697673133108765,0.000206076045287773,4.597533552441746e-05,0.00013498502084985375,5.04502713738475e-05,0.00013831914111506194,3.628138802014291e-05,4.6683802793268114e-05,0.023762250319123268,9.648536797612906e-05,4.327596252551302e-05,0.00010365436173742637,4.755174450110644e-05,0.00012158475874457508,7.14525522198528e-05,5.661587420036085e-05,0.0003747732553165406,0.00017983737052418292,8.979541598819196e-05,4.3382035073591396e-05,5.6506800319766626e-05,5.58384126634337e-05,0.00015362749400082976,8.205320045817643e-05,0.0009153858409263194,9.035704715643078e-05,8.378885831916705e-05,0.00010979449871229008,3.3824002457549796e-05,0.10215666145086288,5.452780533232726e-05,7.962203380884603e-05,0.00027727324049919844,0.00012310539023019373,7.14020716259256e-05,7.479077612515539e-05,0.00010614655911922455,3.476313213468529e-05,0.00010653863864718005,6.768011371605098e-05,0.00015497038839384913,0.00013282980944495648,6.434725946746767e-05,6.302917608991265e-05,0.0005367588018998504,0.00012220366625115275,0.00010098156053572893,8.455441275145859e-05,0.00017725976067595184,6.307817966444418e-05,5.2258252253523096e-05,3.611754800658673e-05,5.1283375796629116e-05,0.00014807924162596464,0.00010174940689466894,0.00012272641470190138,4.188641833025031e-05],"xaxis":"x","y":[4.732691013487056e-05,3.758612729143351e-05,4.6327459131134674e-05,8.881635585566983e-05,3.969507815781981e-05,0.03271747753024101,4.0401013393420726e-05,8.128186891553923e-05,6.061071326257661e-05,7.386189099634066e-05,0.00021679094061255455,9.47902663028799e-05,0.00011124269076390192,4.184367571724579e-05,5.004140984965488e-05,3.7312627682695165e-05,0.00013013566785957664,0.00010432001727167517,0.000348447123542428,0.00013983705139253289,4.904488741885871e-05,0.0001841594057623297,4.433453068486415e-05,5.3620537073584273e-05,6.584471702808514e-05,0.0007599007221870124,5.384668111219071e-05,4.274170350981876e-05,4.4655793317360803e-05,9.497151040704921e-05,0.0001766187633620575,4.951334267389029e-05,0.00031337072141468525,0.0001065297401510179,0.00016431670519523323,6.409183697542176e-05,0.00019525675452314317,3.739067688002251e-05,0.00014190336514730006,4.352489486336708e-05,4.829239333048463e-05,6.078668957343325e-05,0.000132381304865703,5.5850039643701166e-05,3.930740422219969e-05,4.541061207419261e-05,0.0001967466960195452,0.00018271198496222496,5.54045764147304e-05,4.746617196360603e-05,3.9376289350911975e-05,7.938776980154216e-05,5.9144251281395555e-05,0.00012714762124232948,0.0002070844202535227,0.00011287086817901582,0.0003251337038818747,0.00010261448187520728,3.842230944428593e-05,9.957229485735297e-05,0.0001980188098968938,0.00016779598081484437,0.00015698331117164344,4.423527934704907e-05,4.946973058395088e-05,3.780322367674671e-05,0.005719128530472517,0.00014508298772852868,0.00012930149387102574,0.00010219716932624578,7.038996409391984e-05,0.04843918979167938,4.0261125832330436e-05,4.642024214263074e-05,0.007175283040851355,0.0001228330220328644,7.804235065123066e-05,0.00013601640239357948,0.00042329286225140095,9.22822073334828e-05,0.00013264377776067704,7.172826008172706e-05,8.08731492725201e-05,4.450172491488047e-05,3.9145685150288045e-05,8.927202725317329e-05,4.401028490974568e-05,0.0005481111002154648,0.00010255665984004736,4.1375355067430064e-05,9.868422785075381e-05,0.00011978864495176822,0.00012661158689297736,8.508052997058257e-05,7.707760960329324e-05,4.3381387513363734e-05,0.0001266927574761212,7.111999730113894e-05,4.715139220934361e-05,0.02363528683781624,7.143063703551888e-05,3.916144487448037e-05,0.0002231014659628272,4.6644523536087945e-05,5.3207826567813754e-05,4.611372060026042e-05,3.6414094211068004e-05,0.00018717780767474324,0.0001402451889589429,0.00012348545715212822,7.771964010316879e-05,0.00012915028491988778,4.483548764255829e-05,0.00016040686750784516,0.00018408408504910767,0.0005832684691995382,3.804456355283037e-05,5.5019467254169285e-05,6.154258880997077e-05,4.3957137677352875e-05,0.8481142520904541,4.0248916775453836e-05,4.6930268581490964e-05,0.00016815128037706017,0.00019760473514907062,6.711087189614773e-05,4.853339851251803e-05,0.000150449646753259,6.898440915392712e-05,5.882395998924039e-05,0.00016468662943225354,0.00010450662375660613,0.00024610935361124575,4.852349593420513e-05,3.705977360368706e-05,0.0003439810825511813,8.171626541297883e-05,3.8726982893422246e-05,4.4359563617035747e-05,8.098506077658385e-05,9.263773245038465e-05,5.0444086809875444e-05,7.333623943850398e-05,4.812761108041741e-05,0.0002796299522742629,0.00020964218128938228,0.0002989059721585363,0.0001319939037784934],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Doctor"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Nurse"},"type":"log"},"legend":{"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Likelihood per token: Doctor vs Nurse"},"height":800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('753828a0-0cbd-4eb4-96e5-8938b0b3b973');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                            </script>        </div>


</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here while most predictions have low likelihood for both, still <code>he</code> seems to be highly associated with doctor and <code>she</code> is highly associated with nurse.</p>

</div>
</div>
</div>
</div>

<script type="application/vnd.jupyter.widget-state+json">
{"7b026fff3ba244d39d16793121dd339f": {"model_module": "@jupyter-widgets/controls", "model_name": "HBoxModel", "model_module_version": "1.5.0", "state": {"_view_name": "HBoxView", "_dom_classes": [], "_model_name": "HBoxModel", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.5.0", "box_style": "", "layout": "IPY_MODEL_5c2107185b0145d0941149109b70b277", "_model_module": "@jupyter-widgets/controls", "children": ["IPY_MODEL_53f8d52431a2482dabe63fa8b502cb80", "IPY_MODEL_f10ae38b456a40f981d12f2ffd298b17", "IPY_MODEL_457072a91f554fb4a1de53389ea9d382"]}}, "5c2107185b0145d0941149109b70b277": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "53f8d52431a2482dabe63fa8b502cb80": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_7b5032542e684eaf9e9e7dff2366432d", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": "Downloading: 100%", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_1245d42855844db689cccb2ee210f826"}}, "f10ae38b456a40f981d12f2ffd298b17": {"model_module": "@jupyter-widgets/controls", "model_name": "FloatProgressModel", "model_module_version": "1.5.0", "state": {"_view_name": "ProgressView", "style": "IPY_MODEL_b7798c7901fd4c6da61d1cbfc5365e62", "_dom_classes": [], "description": "", "_model_name": "FloatProgressModel", "bar_style": "success", "max": 28, "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": 28, "_view_count": null, "_view_module_version": "1.5.0", "orientation": "horizontal", "min": 0, "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_5291abd95e8442bd88c8f4e0290df653"}}, "457072a91f554fb4a1de53389ea9d382": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_474469d464504af0b5dc15b4bbdd4517", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": " 28.0/28.0 [00:00&lt;00:00, 157B/s]", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_411bae5a75c94e5fb9c733578b9e554e"}}, "7b5032542e684eaf9e9e7dff2366432d": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "1245d42855844db689cccb2ee210f826": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "b7798c7901fd4c6da61d1cbfc5365e62": {"model_module": "@jupyter-widgets/controls", "model_name": "ProgressStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "ProgressStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "bar_color": null, "_model_module": "@jupyter-widgets/controls"}}, "5291abd95e8442bd88c8f4e0290df653": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "474469d464504af0b5dc15b4bbdd4517": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "411bae5a75c94e5fb9c733578b9e554e": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "0504090870824960891d9171097f728c": {"model_module": "@jupyter-widgets/controls", "model_name": "HBoxModel", "model_module_version": "1.5.0", "state": {"_view_name": "HBoxView", "_dom_classes": [], "_model_name": "HBoxModel", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.5.0", "box_style": "", "layout": "IPY_MODEL_0d88625b86954f38a0cfa88a4ed0a534", "_model_module": "@jupyter-widgets/controls", "children": ["IPY_MODEL_a91865cce33443e6aceb173cf37e9101", "IPY_MODEL_ba313d368c4b42fb927e9d272c573097", "IPY_MODEL_798496849e5642438f46d0acbfab63a2"]}}, "0d88625b86954f38a0cfa88a4ed0a534": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "a91865cce33443e6aceb173cf37e9101": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_36e10f7e16fa499ca657c07d3f5965f5", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": "Downloading: 100%", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_1588f8afce014b9885b4079c61643b32"}}, "ba313d368c4b42fb927e9d272c573097": {"model_module": "@jupyter-widgets/controls", "model_name": "FloatProgressModel", "model_module_version": "1.5.0", "state": {"_view_name": "ProgressView", "style": "IPY_MODEL_9e506eed578b4c99ad13eed619dc9bf2", "_dom_classes": [], "description": "", "_model_name": "FloatProgressModel", "bar_style": "success", "max": 570, "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": 570, "_view_count": null, "_view_module_version": "1.5.0", "orientation": "horizontal", "min": 0, "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_d7113b56e6eb4a0eb770e7148b885bb2"}}, "798496849e5642438f46d0acbfab63a2": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_e83c4a34a7264aec84e5cf9397ca9f0c", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": " 570/570 [00:00&lt;00:00, 9.35kB/s]", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_5ec482026b04455b8c924c1468c09fc2"}}, "36e10f7e16fa499ca657c07d3f5965f5": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "1588f8afce014b9885b4079c61643b32": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "9e506eed578b4c99ad13eed619dc9bf2": {"model_module": "@jupyter-widgets/controls", "model_name": "ProgressStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "ProgressStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "bar_color": null, "_model_module": "@jupyter-widgets/controls"}}, "d7113b56e6eb4a0eb770e7148b885bb2": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "e83c4a34a7264aec84e5cf9397ca9f0c": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "5ec482026b04455b8c924c1468c09fc2": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "5392d6a46cac40a195f9a65aa4722dc6": {"model_module": "@jupyter-widgets/controls", "model_name": "HBoxModel", "model_module_version": "1.5.0", "state": {"_view_name": "HBoxView", "_dom_classes": [], "_model_name": "HBoxModel", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.5.0", "box_style": "", "layout": "IPY_MODEL_74c84e4d81bd4d40a848cdfa3e334526", "_model_module": "@jupyter-widgets/controls", "children": ["IPY_MODEL_cec842919f6b4381af2ce9981ab971e8", "IPY_MODEL_07d6816b6dda446f95e27d1ab6c66254", "IPY_MODEL_17cd36ec923b4ac293df27006d4372bb"]}}, "74c84e4d81bd4d40a848cdfa3e334526": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "cec842919f6b4381af2ce9981ab971e8": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_b08c34a5e35245cf84dd9b90812a77dd", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": "Downloading: 100%", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_ecdf8611e8a64bc6a0d68d80af3b42f5"}}, "07d6816b6dda446f95e27d1ab6c66254": {"model_module": "@jupyter-widgets/controls", "model_name": "FloatProgressModel", "model_module_version": "1.5.0", "state": {"_view_name": "ProgressView", "style": "IPY_MODEL_5e565e5b187d43d198fc5b26328bd229", "_dom_classes": [], "description": "", "_model_name": "FloatProgressModel", "bar_style": "success", "max": 231508, "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": 231508, "_view_count": null, "_view_module_version": "1.5.0", "orientation": "horizontal", "min": 0, "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_674c3530ddee43b5ab1a616b12e96e24"}}, "17cd36ec923b4ac293df27006d4372bb": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_92958bace96f4ebb9d713b3d4284f9c4", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": " 226k/226k [00:00&lt;00:00, 2.60MB/s]", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_0087d7b5bfa44c85a735c58f1fee08e6"}}, "b08c34a5e35245cf84dd9b90812a77dd": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "ecdf8611e8a64bc6a0d68d80af3b42f5": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "5e565e5b187d43d198fc5b26328bd229": {"model_module": "@jupyter-widgets/controls", "model_name": "ProgressStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "ProgressStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "bar_color": null, "_model_module": "@jupyter-widgets/controls"}}, "674c3530ddee43b5ab1a616b12e96e24": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "92958bace96f4ebb9d713b3d4284f9c4": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "0087d7b5bfa44c85a735c58f1fee08e6": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "259195eeb916411ca250aae0515ac315": {"model_module": "@jupyter-widgets/controls", "model_name": "HBoxModel", "model_module_version": "1.5.0", "state": {"_view_name": "HBoxView", "_dom_classes": [], "_model_name": "HBoxModel", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.5.0", "box_style": "", "layout": "IPY_MODEL_0e97fa98419a45e698f79d9135f35b31", "_model_module": "@jupyter-widgets/controls", "children": ["IPY_MODEL_0126097096604b77a98ef74cbf424fc4", "IPY_MODEL_49295d4545404f449dff427b5661bbfb", "IPY_MODEL_966cdf2562de4ff1be83eceb510e92da"]}}, "0e97fa98419a45e698f79d9135f35b31": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "0126097096604b77a98ef74cbf424fc4": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_50bcfd250f0445bba3f51ae90e3a4a7e", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": "Downloading: 100%", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_143eeb98bfc1427eb6a5068739d9443d"}}, "49295d4545404f449dff427b5661bbfb": {"model_module": "@jupyter-widgets/controls", "model_name": "FloatProgressModel", "model_module_version": "1.5.0", "state": {"_view_name": "ProgressView", "style": "IPY_MODEL_015325f310bb43a28c9158c4a393febc", "_dom_classes": [], "description": "", "_model_name": "FloatProgressModel", "bar_style": "success", "max": 466062, "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": 466062, "_view_count": null, "_view_module_version": "1.5.0", "orientation": "horizontal", "min": 0, "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_6bb661e37abe4305a692e8e94c2cec81"}}, "966cdf2562de4ff1be83eceb510e92da": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_0617863d8b05460caab96d0fac320b44", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": " 455k/455k [00:00&lt;00:00, 5.87MB/s]", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_646057443f1749a1b5605144b2f08ade"}}, "50bcfd250f0445bba3f51ae90e3a4a7e": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "143eeb98bfc1427eb6a5068739d9443d": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "015325f310bb43a28c9158c4a393febc": {"model_module": "@jupyter-widgets/controls", "model_name": "ProgressStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "ProgressStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "bar_color": null, "_model_module": "@jupyter-widgets/controls"}}, "6bb661e37abe4305a692e8e94c2cec81": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "0617863d8b05460caab96d0fac320b44": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "646057443f1749a1b5605144b2f08ade": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "71c719cc109a409c8397c40666263e94": {"model_module": "@jupyter-widgets/controls", "model_name": "HBoxModel", "model_module_version": "1.5.0", "state": {"_view_name": "HBoxView", "_dom_classes": [], "_model_name": "HBoxModel", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.5.0", "box_style": "", "layout": "IPY_MODEL_be4fccf1e6a84b84b15c3de59b5a300b", "_model_module": "@jupyter-widgets/controls", "children": ["IPY_MODEL_be3c84855dae4b78bac1fea04fcbdaae", "IPY_MODEL_1c794318aabe4bcdbb4187e76ca97945", "IPY_MODEL_bcac1a08c8fb4ca8bd93dfce7ed9885f"]}}, "be4fccf1e6a84b84b15c3de59b5a300b": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "be3c84855dae4b78bac1fea04fcbdaae": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_8406c1ebc29f4197ad26bf9c3166fdcd", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": "Downloading: 100%", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_7432c871594141688ead4f82f5885f58"}}, "1c794318aabe4bcdbb4187e76ca97945": {"model_module": "@jupyter-widgets/controls", "model_name": "FloatProgressModel", "model_module_version": "1.5.0", "state": {"_view_name": "ProgressView", "style": "IPY_MODEL_f9fddd4a628f47c38500d340b476cbe9", "_dom_classes": [], "description": "", "_model_name": "FloatProgressModel", "bar_style": "success", "max": 536063208, "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": 536063208, "_view_count": null, "_view_module_version": "1.5.0", "orientation": "horizontal", "min": 0, "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_ca55873843774a82ac463a94f785773c"}}, "bcac1a08c8fb4ca8bd93dfce7ed9885f": {"model_module": "@jupyter-widgets/controls", "model_name": "HTMLModel", "model_module_version": "1.5.0", "state": {"_view_name": "HTMLView", "style": "IPY_MODEL_ee06c73a67574f1cb4f576bf792cf81c", "_dom_classes": [], "description": "", "_model_name": "HTMLModel", "placeholder": "\u200b", "_view_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "value": " 511M/511M [00:26&lt;00:00, 18.4MB/s]", "_view_count": null, "_view_module_version": "1.5.0", "description_tooltip": null, "_model_module": "@jupyter-widgets/controls", "layout": "IPY_MODEL_ec0518223308486887c91c09c26ed253"}}, "8406c1ebc29f4197ad26bf9c3166fdcd": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "7432c871594141688ead4f82f5885f58": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "f9fddd4a628f47c38500d340b476cbe9": {"model_module": "@jupyter-widgets/controls", "model_name": "ProgressStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "ProgressStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "bar_color": null, "_model_module": "@jupyter-widgets/controls"}}, "ca55873843774a82ac463a94f785773c": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}, "ee06c73a67574f1cb4f576bf792cf81c": {"model_module": "@jupyter-widgets/controls", "model_name": "DescriptionStyleModel", "model_module_version": "1.5.0", "state": {"_view_name": "StyleView", "_model_name": "DescriptionStyleModel", "description_width": "", "_view_module": "@jupyter-widgets/base", "_model_module_version": "1.5.0", "_view_count": null, "_view_module_version": "1.2.0", "_model_module": "@jupyter-widgets/controls"}}, "ec0518223308486887c91c09c26ed253": {"model_module": "@jupyter-widgets/base", "model_name": "LayoutModel", "model_module_version": "1.2.0", "state": {"_view_name": "LayoutView", "grid_template_rows": null, "right": null, "justify_content": null, "_view_module": "@jupyter-widgets/base", "overflow": null, "_model_module_version": "1.2.0", "_view_count": null, "flex_flow": null, "width": null, "min_width": null, "border": null, "align_items": null, "bottom": null, "_model_module": "@jupyter-widgets/base", "top": null, "grid_column": null, "overflow_y": null, "overflow_x": null, "grid_auto_flow": null, "grid_area": null, "grid_template_columns": null, "flex": null, "_model_name": "LayoutModel", "justify_items": null, "grid_row": null, "max_height": null, "align_content": null, "visibility": null, "align_self": null, "height": null, "min_height": null, "padding": null, "grid_auto_rows": null, "grid_gap": null, "max_width": null, "order": null, "_view_module_version": "1.2.0", "grid_template_areas": null, "object_position": null, "object_fit": null, "grid_auto_columns": null, "margin": null, "display": null, "left": null}}}
</script>


</body>
  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="dzlab/notebooks"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/notebooks/tensorflow/nlp/explainability/2022/02/04/transformers_bias.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/notebooks/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/notebooks/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/notebooks/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A collection of Jupyter Notebooks beautifully rendered in html.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/dzlab" target="_blank" title="dzlab"><svg class="svg-icon grey"><use xlink:href="/notebooks/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/bachiirc" target="_blank" title="bachiirc"><svg class="svg-icon grey"><use xlink:href="/notebooks/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
